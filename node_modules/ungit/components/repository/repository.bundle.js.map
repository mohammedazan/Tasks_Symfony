{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "components/repository/repository.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "const ko = require('knockout');\nconst octicons = require('octicons');\nconst components = require('ungit-components');\nconst programEvents = require('ungit-program-events');\nconst { encodePath } = require('ungit-address-parser');\n\ncomponents.register('repository', (args) => new RepositoryViewModel(args.server, args.path));\n\nclass RepositoryViewModel {\n  constructor(server, path) {\n    this.server = server;\n    this.isBareDir = path.status() === 'bare';\n    this.repoPath = path.repoPath;\n    this.gitErrors = components.create('gitErrors', { server, repoPath: this.repoPath });\n    this.graph = components.create('graph', { server, repoPath: this.repoPath });\n    this.remotes = components.create('remotes', { server, repoPath: this.repoPath });\n    this.submodules = components.create('submodules', { server, repoPath: this.repoPath });\n    this.stash = this.isBareDir\n      ? {}\n      : components.create('stash', { server, repoPath: this.repoPath });\n    this.staging = this.isBareDir\n      ? {}\n      : components.create('staging', { server, repoPath: this.repoPath, graph: this.graph });\n    this.branches = components.create('branches', {\n      server,\n      graph: this.graph,\n      repoPath: this.repoPath,\n    });\n    this.repoPath.subscribe((value) => {\n      this.server.watchRepository(value);\n    });\n    this.server.watchRepository(this.repoPath());\n    this.showLog = this.isBareDir ? ko.observable(true) : this.staging.isStageValid;\n    this.parentModulePath = ko.observable();\n    this.parentModuleLink = ko.observable();\n    this.isSubmodule = ko.computed(() => this.parentModulePath() && this.parentModuleLink());\n    this.refreshSubmoduleStatus();\n    if (window.location.search.includes('noheader=true')) {\n      this.refreshButton = components.create('refreshbutton', { isLarge: false });\n    } else {\n      this.refreshButton = false;\n    }\n    this.ignoreIcon = octicons.file.toSVG({ height: 18 });\n  }\n\n  updateNode(parentElement) {\n    ko.renderTemplate('repository', this, {}, parentElement);\n  }\n\n  onProgramEvent(event) {\n    if (this.gitErrors.onProgramEvent) this.gitErrors.onProgramEvent(event);\n    if (this.graph.onProgramEvent) this.graph.onProgramEvent(event);\n    if (this.staging.onProgramEvent) this.staging.onProgramEvent(event);\n    if (this.stash.onProgramEvent) this.stash.onProgramEvent(event);\n    if (this.remotes.onProgramEvent) this.remotes.onProgramEvent(event);\n    if (this.submodules.onProgramEvent) this.submodules.onProgramEvent(event);\n    if (this.branches.onProgramEvent) this.branches.onProgramEvent(event);\n    if (event.event == 'connected') this.server.watchRepository(this.repoPath());\n\n    // If we get a reconnect event it's usually because the server crashed and then restarted\n    // or something like that, so we need to tell it to start watching the path again\n  }\n\n  updateAnimationFrame(deltaT) {\n    if (this.graph.updateAnimationFrame) this.graph.updateAnimationFrame(deltaT);\n  }\n\n  refreshSubmoduleStatus() {\n    return this.server\n      .getPromise('/baserepopath', { path: this.repoPath() })\n      .then((baseRepoPath) => {\n        if (baseRepoPath.path) {\n          return this.server\n            .getPromise('/submodules', { path: baseRepoPath.path })\n            .then((submodules) => {\n              const baseName = this.repoPath().substring(baseRepoPath.path.length + 1);\n              for (let n = 0; n < submodules.length; n++) {\n                if (submodules[n].path === baseName) {\n                  this.parentModulePath(baseRepoPath.path);\n                  this.parentModuleLink(`/#/repository?path=${encodePath(baseRepoPath.path)}`);\n                  return;\n                }\n              }\n            });\n        }\n      })\n      .catch((err) => {\n        this.parentModuleLink(undefined);\n        this.parentModulePath(undefined);\n      });\n  }\n\n  editGitignore() {\n    return this.server\n      .getPromise('/gitignore', { path: this.repoPath() })\n      .then((res) => {\n        return components.showModal('texteditmodal', {\n          title: `${this.repoPath()}${ungit.config.fileSeparator}.gitignore`,\n          content: res.content,\n          closeFunc: (isYes) => {\n            if (isYes) {\n              this.server.putPromise('/gitignore', {\n                path: this.repoPath(),\n                data: document.querySelector('.modal-body .text-area-content').value,\n              });\n            }\n          },\n        });\n      })\n      .catch((e) => {\n        // Not a git error but we are going to treat like one\n        programEvents.dispatch({\n          event: 'git-error',\n          data: {\n            command: `fs.write \"${this.repoPath()}${ungit.config.fileSeparator}.gitignore\"`,\n            error: e.message || e.errorSummary,\n            stdout: '',\n            stderr: e.stack,\n            repoPath: this.repoPath(),\n          },\n        });\n      });\n  }\n}\n"
  ]
}