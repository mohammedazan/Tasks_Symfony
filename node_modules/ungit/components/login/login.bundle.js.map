{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "components/login/login.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA,IAAM,EAAE,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AAC/B,IAAM,UAAU,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;AAC/C,IAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AAEnC,UAAU,CAAC,QAAQ,CAAC,OAAO,EAAE,UAAC,IAAI,IAAK,OAAA,IAAI,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,EAA/B,CAA+B,CAAC,CAAC;AAExE;IACE,wBAAY,MAAM;QAAlB,iBAkBC;QAjBC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC;QACrC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QACvC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,UAAU,EAAE,CAAC;QAChC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,UAAU,EAAE,CAAC;QAChC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,UAAU,EAAE,CAAC;QAClC,IAAI,CAAC,MAAM;aACR,UAAU,CAAC,WAAW,CAAC;aACvB,IAAI,CAAC,UAAC,MAAM;YACX,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC;gBACpB,KAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;gBACzB,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAC1B,CAAC;iBAAM,CAAC;gBACN,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YACvB,CAAC;QACH,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG,IAAM,CAAC,CAAC,CAAC;IACxB,CAAC;IAED,mCAAU,GAAV,UAAW,aAAa;QACtB,EAAE,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,aAAa,CAAC,CAAC;IACtD,CAAC;IAED,8BAAK,GAAL;QAAA,iBAcC;QAbC,IAAI,CAAC,MAAM;aACR,WAAW,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC;aAC/E,IAAI,CAAC,UAAC,GAAG;YACR,KAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACzB,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAC1B,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG;YACT,IAAI,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;gBACvB,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtC,CAAC;iBAAM,CAAC;gBACN,KAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;YACtC,CAAC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IACH,qBAAC;AAAD,CAxCA,AAwCC,IAAA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "const ko = require('knockout');\nconst components = require('ungit-components');\nconst signals = require('signals');\n\ncomponents.register('login', (args) => new LoginViewModel(args.server));\n\nclass LoginViewModel {\n  constructor(server) {\n    this.server = server;\n    this.loggedIn = new signals.Signal();\n    this.status = ko.observable('loading');\n    this.username = ko.observable();\n    this.password = ko.observable();\n    this.loginError = ko.observable();\n    this.server\n      .getPromise('/loggedin')\n      .then((status) => {\n        if (status.loggedIn) {\n          this.loggedIn.dispatch();\n          this.status('loggedIn');\n        } else {\n          this.status('login');\n        }\n      })\n      .catch((err) => {});\n  }\n\n  updateNode(parentElement) {\n    ko.renderTemplate('login', this, {}, parentElement);\n  }\n\n  login() {\n    this.server\n      .postPromise('/login', { username: this.username(), password: this.password() })\n      .then((res) => {\n        this.loggedIn.dispatch();\n        this.status('loggedIn');\n      })\n      .catch((err) => {\n        if (err.res.body.error) {\n          this.loginError(err.res.body.error);\n        } else {\n          this.server.unhandledRejection(err);\n        }\n      });\n  }\n}\n"
  ]
}