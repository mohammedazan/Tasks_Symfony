{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "components/ComponentRoot.ts",
    "components/submodules/submodules.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "declare var ungit: any;\n\nexport class ComponentRoot {\n  _apiCache: string;\n  defaultDebounceOption = {\n    maxWait: 1500,\n    leading: false,\n    trailing: true\n  }\n\n  constructor() { }\n\n  isSamePayload(value: any) {\n    const jsonString = JSON.stringify(value);\n\n    if (this._apiCache === jsonString) {\n      ungit.logger.debug(`ignoring redraw for same ${this.constructor.name} payload.`);\n      return true;\n    }\n    ungit.logger.debug(`redrawing ${this.constructor.name} payload.  \\n${jsonString}`);\n\n    this._apiCache = jsonString\n    return false;\n  }\n\n  clearApiCache() {\n    this._apiCache = undefined\n  }\n}\n",
    "const ko = require('knockout');\nconst _ = require('lodash');\nconst octicons = require('octicons');\nconst components = require('ungit-components');\nconst programEvents = require('ungit-program-events');\nconst { ComponentRoot } = require('../ComponentRoot');\n\ncomponents.register('submodules', (args) => new SubmodulesViewModel(args.server, args.repoPath));\n\nclass SubmodulesViewModel extends ComponentRoot {\n  constructor(server, repoPath) {\n    super();\n    this.repoPath = repoPath;\n    this.server = server;\n    this.fetchSubmodules = _.debounce(this._fetchSubmodules, 250, this.defaultDebounceOption);\n    this.submodules = ko.observableArray();\n    this.submodulesIcon = octicons['file-submodule'].toSVG({ height: 18 });\n    this.closeIcon = octicons.x.toSVG({ height: 18 });\n    this.linkIcon = octicons['link-external'].toSVG({ height: 18 });\n  }\n\n  onProgramEvent(event) {\n    if (event.event == 'submodule-fetch') {\n      this.fetchSubmodules();\n    }\n  }\n\n  updateNode(parentElement) {\n    this.fetchSubmodules();\n    this.fetchSubmodules.flush().then((submoduleViewModel) => {\n      ko.renderTemplate('submodules', submoduleViewModel, {}, parentElement);\n    });\n  }\n\n  async _fetchSubmodules() {\n    try {\n      const submodules = await this.server.getPromise('/submodules', { path: this.repoPath() });\n      this.submodules(submodules);\n      return this;\n    } catch (e) {\n      ungit.logger.error('error during fetchSubmodules', e);\n    }\n  }\n\n  updateSubmodules() {\n    return this.server\n      .postPromise('/submodules/update', { path: this.repoPath() })\n      .catch((e) => this.server.unhandledRejection(e));\n  }\n\n  showAddSubmoduleDialog() {\n    components.showModal('addsubmodulemodal', { path: this.repoPath() });\n  }\n\n  submoduleLinkClick(submodule) {\n    window.location.href = submodule.url;\n  }\n\n  submodulePathClick(submodule) {\n    window.location.href = document.URL + ungit.config.fileSeparator + submodule.path;\n  }\n\n  submoduleRemove(submodule) {\n    components.showModal('yesnomodal', {\n      title: 'Are you sure?',\n      details: `Deleting ${submodule.name} submodule cannot be undone with ungit.`,\n      closeFunc: (isYes) => {\n        if (!isYes) return;\n        this.server\n          .delPromise('/submodules', {\n            path: this.repoPath(),\n            submodulePath: submodule.path,\n            submoduleName: submodule.name,\n          })\n          .then(() => {\n            programEvents.dispatch({ event: 'submodule-fetch' });\n          })\n          .catch((e) => this.server.unhandledRejection(e));\n      },\n    });\n  }\n}\n"
  ]
}