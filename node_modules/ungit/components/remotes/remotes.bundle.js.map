{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "components/remotes/remotes.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "const ko = require('knockout');\nconst _ = require('lodash');\nconst octicons = require('octicons');\nconst components = require('ungit-components');\nconst programEvents = require('ungit-program-events');\n\ncomponents.register('remotes', (args) => new RemotesViewModel(args.server, args.repoPath));\n\nclass RemotesViewModel {\n  constructor(server, repoPath) {\n    this.repoPath = repoPath;\n    this.server = server;\n    this.remotes = ko.observable([]);\n    this.currentRemote = ko.observable(null);\n    this.currentRemote.subscribe((value) => {\n      programEvents.dispatch({ event: 'current-remote-changed', newRemote: value });\n    });\n    this.fetchLabel = ko.computed(() => {\n      if (this.currentRemote()) return `Fetch from ${this.currentRemote()}`;\n      else return 'No remotes specified';\n    });\n    this.remotesIcon = octicons.download.toSVG({ height: 18 });\n    this.closeIcon = octicons.x.toSVG({ height: 18 });\n\n    this.fetchEnabled = ko.computed(() => this.remotes().length > 0);\n\n    this.shouldAutoFetch = ungit.config.autoFetch;\n    this.updateRemotes();\n  }\n\n  updateNode(parentElement) {\n    ko.renderTemplate('remotes', this, {}, parentElement);\n  }\n\n  clickFetch() {\n    this.fetch({ nodes: true, tags: true });\n  }\n\n  async onProgramEvent(event) {\n    if (event.event === 'request-app-content-refresh' || event.event === 'request-fetch-tags') {\n      await this.fetch({ tags: true });\n    } else if (event.event === 'git-directory-changed' && this.shouldAutoFetch) {\n      await this.fetch({ tags: true });\n    } else if (event.event === 'update-remote') {\n      await this.updateRemotes();\n    }\n  }\n\n  async fetch(options) {\n    if (!this.currentRemote() || !options.tags) return;\n    ungit.logger.debug('remotes.fetch() triggered');\n\n    try {\n      const tagPromise = this.server.getPromise('/remote/tags', {\n        path: this.repoPath(),\n        remote: this.currentRemote(),\n      });\n      programEvents.dispatch({ event: 'remote-tags-update', tags: await tagPromise });\n      if (!this.server.isInternetConnected) {\n        this.server.isInternetConnected = true;\n      }\n    } catch (err) {\n      let errorMessage;\n      let stdout;\n      let stderr;\n      try {\n        errorMessage = `Ungit has failed to fetch a remote.  ${err.res.body.error}`;\n        stdout = err.res.body.stdout;\n        stderr = err.res.body.stderr;\n      } catch (e) {\n        errorMessage = '';\n      }\n\n      if (errorMessage.includes('Could not resolve host')) {\n        if (this.server.isInternetConnected) {\n          this.server.isInternetConnected = false;\n          errorMessage =\n            'Could not resolve host. This usually means you are disconnected from internet and no longer push or fetch from remote. However, Ungit will be functional for local git operations.';\n          stdout = '';\n          stderr = '';\n        } else {\n          // Message is already seen, just return\n          return;\n        }\n      }\n\n      programEvents.dispatch({\n        event: 'git-error',\n        data: {\n          isWarning: true,\n          command: err.res.body.command,\n          error: err.res.body.error,\n          stdout,\n          stderr,\n          repoPath: err.res.body.workingDirectory,\n        },\n      });\n    } finally {\n      ungit.logger.debug('remotes.fetch() finished');\n    }\n  }\n\n  updateRemotes() {\n    return this.server\n      .getPromise('/remotes', { path: this.repoPath() })\n      .then((remotes) => {\n        remotes = remotes.map((remote) => ({\n          name: remote,\n          changeRemote: () => {\n            this.currentRemote(remote);\n          },\n        }));\n        this.remotes(remotes);\n        if (!this.currentRemote() && remotes.length > 0) {\n          if (_.find(remotes, { name: 'origin' })) {\n            // default to origin if it exists\n            this.currentRemote('origin');\n          } else {\n            // otherwise take the first one\n            this.currentRemote(remotes[0].name);\n          }\n\n          if (this.shouldAutoFetch) {\n            this.shouldAutoFetch = false;\n            return this.fetch({ nodes: true, tags: true });\n          }\n        }\n      })\n      .catch((err) => {\n        if (err.errorCode != 'not-a-repository') {\n          this.server.unhandledRejection(err);\n        } else {\n          ungit.logger.warn('updateRemotes failed', err);\n        }\n      });\n  }\n\n  showAddRemoteDialog() {\n    components.showModal('addremotemodal', { path: this.repoPath() });\n  }\n\n  remoteRemove(remote) {\n    components.showModal('yesnomodal', {\n      title: 'Are you sure?',\n      details: `Deleting ${remote.name} remote cannot be undone with ungit.`,\n      closeFunc: (isYes) => {\n        if (isYes) {\n          this.server\n            .delPromise(`/remotes/${remote.name}`, { path: this.repoPath() })\n            .then(() => {\n              this.updateRemotes();\n            })\n            .catch((e) => this.server.unhandledRejection(e));\n        }\n      },\n    });\n  }\n}\n"
  ]
}